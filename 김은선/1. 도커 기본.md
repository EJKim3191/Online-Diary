## 1. 도커를 쓰는 이유

- 프로그램을 다운받는 일을 간단하게 하기 위해서

## 2. 도커란 무엇인가

### 도커란?

- 컨테이너를 사용하여 응용 프로그램을 더 쉽게 만들고, 배포하고, 실행할 수 있도록 설계된 도구
- 컨테이너 기반의 오픈소스 가상화 플랫폼이자 생태계

### 컨테이너란?

- 다양한 프로그램, 실행 환경을 컨테이너로 추상화하고 동일한 인터페이스를 제공하여 프로그램의 배포 및 관리를 단순하게 해줌
- 프로그램을 손쉽게 이동, 배포, 관리할 수 있다
- AWS, Azure(MS), Google cloud 등 어디서든 실행 가능하게 해줌

## 3. 도커 이미지와 도커 컨테이너 정의

### 컨테이너

- 코드와 모든 종속성을 패키지화하여 응용 프로그램이 한 컴퓨팅 환경에서 다른 컴퓨팅 환경으로 빠르고 안정적으로 실행되도록 하는 소프트웨어의 표준 단위
- 간단하고 편리하게 프로그램을 실행시켜주는 것

### 컨테이너 이미지

- 코드, 런타임, 시스템 도구, 시스템 라이브러리 및 설정과 같은 **응용 프로그램을 실행하는 데 필요한 모든 것**을 포함하는 가볍고 독립적이며 실행 가능한 소프트웨어 패키지
- 도커 이미지를 이용해 도커 컨테이너를 생성함

![Untitled](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/41a61fad-b48d-4587-81d6-f5f23503111d/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220422%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220422T014453Z&X-Amz-Expires=86400&X-Amz-Signature=6d62276bfae7f55e8d5f845fbec7483800cf6ecf1cdcb86c187963f661911fa9&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%22Untitled.png%22&x-id=GetObject)

- 컨테이너는 이미지의 인스턴스이다.

## 4. 도커를 사용할 때의 흐름

![Untitled](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/9a94667a-7768-4b4a-a3dd-1e2b8419d066/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220422%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220422T014526Z&X-Amz-Expires=86400&X-Amz-Signature=77fed40fa6d1941d4e61b446d43c17a48a06e6272286c4a13c37b977d14ac494&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%22Untitled.png%22&x-id=GetObject)

1. 도커 CLI에 커맨드를 입력한다
2. 도커 서버(도커 Daemon)이 그 커맨드를 받아 작업

### Docker 이미지 실행

![Untitled](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/0277d01b-55aa-4d80-a3ce-c10192208c46/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220422%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220422T014540Z&X-Amz-Expires=86400&X-Amz-Signature=a6c87d11eedc4cced4127c9e8abebad16d40cfc9befa5f6e9d81264219784c40&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%22Untitled.png%22&x-id=GetObject)

1. 캐시 보관 장소에 `hello-world`라는 이미지가 있는지 확인
2. 없으면 pulling해서 도커 허브에서 캐시로 가져옴

## 5. 도커와 기존의 가상화 기술과의 차이를 통한 컨테이너의 이해

## 6. 이미지로 컨테이너 만들기

- 이미지 : 프로그램을 실행하는 데 필요한 설정이나 종속성을 가지고 있음
    - 응용 프로그램을 실행하는 데 필요한 모든 것

### 응용 프로그램 실행에 필요한 것 = 이미지가 가지고 있는 것

1. 컨테이너 시작시 실행될 명령어
    1. `run kakaotalk`
2. 파일 스냅샷
    1. 실행할 디렉토리나 파일을 카피한 것
    2. 카카오톡 파일

### 이미지로 컨테이너 만드는 순서

- Docker 클라이언트 (docker cli)에 `docker run <이미지>` 입력
1. 도커 이미지에 있는 파일 스냅샷을 컨테이너 하드디스크에 옮김
2. 이미지가 가지고 있는 명령어(컨테이너 실행 명령어)를 컨테이너로 이동
3. 컨테이너 시작 → 명령어 실행 → 커널 → 하드디스크 → 카카오톡 실행파일 작동 → 카카오톡 실행

## 7. C-group, 네임스페이스를 도커 환경에서 쓸 수 있는 이유

![Untitled](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/45ea05a5-78ef-414f-ae21-b7107ca0e8c2/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220422%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220422T014555Z&X-Amz-Expires=86400&X-Amz-Signature=8d7cf68d7a01ea652fb9bed1c54997cc3b7f4bec7a04505239e6c05972b17a5d&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%22Untitled.png%22&x-id=GetObject)

- C-group, name space : 컴퓨터 내에서 실행되고 있는 프로세스를 나누기 위해 사용되는 것
    - 리눅스 환경에서 사용

### 네임스페이스

- 프로그램이 어떤 파일 시스템을 이용하거나, 커널을 통해 나눠주는 것

### C-group

- 컨테이너가 사용하는 ram, 하드디스크 용량 관리

### 다른 os에서도 리눅스용 c-group과 네임스페이스를 사용할 수 있는 이유

![Untitled](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/4ff2967c-10fa-48c0-84e2-cb0e96bada16/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220422%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220422T014612Z&X-Amz-Expires=86400&X-Amz-Signature=ffd553878474e7361ceb93265c96466c8e09c67212bdebe896e2fb64ff08f313&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%22Untitled.png%22&x-id=GetObject)

![Untitled](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/e1c5df1b-5f62-467b-bf9a-a36b14acce00/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220422%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220422T014629Z&X-Amz-Expires=86400&X-Amz-Signature=6cfe5d0ebff386f99f9807ba9245b703a6eb258eb0a97481d6d0fb009c5b9bfe&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%22Untitled.png%22&x-id=GetObject)

- 도커 클라이언트와 서버는 리눅스 환경에서 돌아가고 있다
- 그래서 하드디스크와 램 등을 나눠서 사용할 수 있음
